unit uDMVendas;

interface

uses
  System.SysUtils, System.Classes, Data.DB, Data.Win.ADODB, Datasnap.DBClient;

type
  TDMsvendas = class(TDataModule)
    quCliente: TADOQuery;
    quProdutos: TADOQuery;
    quClienteid: TAutoIncField;
    quClientenome: TStringField;
    quProdutosid: TAutoIncField;
    quProdutosnome: TStringField;
    quProdutosvalor: TFMTBCDField;
    quProdutosquantidade: TFMTBCDField;
    cdsItensVendas: TClientDataSet;
    dtCliente: TDataSource;
    dtProdutos: TDataSource;
    dtItensVendas: TDataSource;
    cdsItensVendasNomeProduto: TStringField;
    cdsItensVendasQuantidade: TFloatField;
    cdsItensVendasvalorUnitario: TFloatField;
    cdsItensVendasvalorTotalProduto: TFloatField;
    cdsItensVendasvalorTotalVenda: TAggregateField;
    cdsItensVendasprodutoId: TStringField;
    procedure DataModuleCreate(Sender: TObject);
    procedure DataModuleDestroy(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  DMsvendas: TDMsvendas;

implementation

{%CLASSGROUP 'Vcl.Controls.TControl'}

uses uDM;

{$R *.dfm}

procedure TDMsvendas.DataModuleCreate(Sender: TObject);
begin
  cdsItensVendas.CreateDataSet;
  quCliente.Open;
  quProdutos.Open;
end;

procedure TDMsvendas.DataModuleDestroy(Sender: TObject);
begin
  cdsItensVendas.close;
  quCliente.close;
  quProdutos.close;
end;

end.
